# data/opportunities Directory - Complete Guide

**Date:** February 18, 2026  
**Status:** Investigation Complete âœ…

## Executive Summary

The `data/opportunities` directory stores **product opportunity data** generated by the Council's Scout intelligence system. It's currently sparse (only 1 file, 6.3 KB) because the Scout hasn't run successfully since January 7, 2026 due to GitHub API blocking.

**TL;DR:** Directory is correctly configured, code is working, but no new data for 40+ days due to API access issues.

---

## What It's For

### Purpose

Stores structured product opportunities identified through automated analysis of GitHub repositories, issues, and pull requests.

### Data Type

Each opportunity represents:
- A pain point discovered in the ecosystem
- A proposed solution
- Market size estimates
- Competition assessment
- Implementation effort/impact analysis
- Supporting evidence (GitHub repos, issues, PRs)

### Use Cases

1. **Goldmine Detector** - Analyzes opportunities for Blue Ocean potential
2. **UI Components** - Displays opportunities in Council interface
3. **Report Generator** - Includes opportunities in intelligence reports
4. **Decision Making** - Helps identify high-value product opportunities

---

## Current Status

### Files Found

**Correct Location:**
```
data/opportunities/
â””â”€â”€ latest.json (6.3 KB, 10 opportunities from January 7, 2026)
```

**Misplaced Files (in data/ root):**
```
data/
â”œâ”€â”€ opportunities-developer-tools-2026-01-07.json (881 lines)
â”œâ”€â”€ opportunities-developer-tools-2026-01-08.json (449 lines)
â”œâ”€â”€ opportunities-jquery-2026-01-07.json (977 lines)
â”œâ”€â”€ opportunities-machine-learning-2026-01-07.json (945 lines)
â””â”€â”€ opportunities-react-native-2026-01-08.json (849 lines)
```

**Total:** 4,101 lines of opportunity data across 6 files

### Why It's Sparse

#### Root Cause 1: GitHub API Blocking âš ï¸

- Scout requires GitHub API access to extract pain points
- API has been blocked by DNS monitoring proxy since January 30
- No new opportunities generated for 40+ days
- Same issue affecting Stargazer, Fork Evolution, Goldmine Detector

#### Root Cause 2: File Organization Issue ğŸ“

Historical files saved to wrong location:
- âŒ Wrong: `data/opportunities-{topic}-{date}.json` (flat structure)
- âœ… Correct: `data/opportunities/{topic}-{date}.json` (organized)
- Only `latest.json` is in the proper directory

#### Root Cause 3: Dual Output Paths ğŸ”€

Scout generates two types of output:

1. **Blue Ocean Reports** (Working âœ…)
   - Location: `data/intelligence/blue-ocean-{date}.md`
   - 32 reports generated
   - 84% success rate
   - Focus on abandoned repos

2. **Opportunity JSON** (Not Working âŒ)
   - Location: `data/opportunities/latest.json`
   - Last updated: January 7, 2026
   - Requires full Scout run with GitHub API access
   - Blocked by API restrictions

---

## Data Format

### Opportunity Schema

```json
{
  "id": "opp-1767907533056-p4w40ys",
  "category": "UI/UX",
  "painPoint": "Unsure how to resolve `Missing field while writing result` error",
  "solution": "Add missing feature as standalone tool",
  "confidence": 1.0,
  "marketSize": 7500,
  "competition": "strong",
  "effort": "low",
  "impact": "high",
  "evidence": [
    "apollographql/apollo-client",
    "https://github.com/apollographql/apollo-client/issues/8677"
  ],
  "keywords": [
    "unsure", "resolve", "missing", "field", "error",
    "feature", "standalone", "tool"
  ]
}
```

### Field Definitions

| Field | Type | Values | Description |
|-------|------|--------|-------------|
| `id` | string | Unique | Generated identifier |
| `category` | string | See below | Opportunity classification |
| `painPoint` | string | Text | Problem description |
| `solution` | string | Text | Proposed solution |
| `confidence` | number | 0-1 | AI confidence score |
| `marketSize` | number | Integer | Estimated users affected |
| `competition` | string | none/weak/moderate/strong | Market competition level |
| `effort` | string | low/medium/high | Implementation effort |
| `impact` | string | low/medium/high | Potential impact |
| `evidence` | array | URLs | Supporting GitHub links |
| `keywords` | array | Strings | Extracted terms |

### Categories

- **UI/UX** - User interface improvements
- **Developer Tools** - Dev productivity tools
- **Performance** - Speed/efficiency improvements
- **Integration** - System integration opportunities
- **Automation** - Workflow automation needs
- **Security** - Security enhancements

---

## Code Architecture

### Generation Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Scout Analysis â”‚
â”‚ (Phantom Scout) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Extract GitHub  â”‚
â”‚  Pain Points    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Cluster &     â”‚
â”‚   Categorize    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Identify     â”‚
â”‚ Opportunities   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Score & Rank   â”‚
â”‚ (Impact/Effort) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Save       â”‚
â”‚ latest.json     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Code References

#### Generation (src/lib/scout.ts)

**Main Functions:**
```typescript
// Line 538: Identify opportunities from pain points
async function identifyOpportunities(
  painPoints: PainPoint[]
): Promise<ProductOpportunity[]>

// Line 613: Save intelligence report
async function saveIntelligence(report: ScoutReport): Promise<void> {
  // Line 624: Save to latest.json
  const oppPath = path.join(dataDir, "opportunities", "latest.json");
  fs.writeFileSync(oppPath, JSON.stringify(report.topOpportunities, null, 2));
}
```

**Opportunity Scoring:**
```typescript
// Sort by impact/effort ratio and confidence
return opportunities.sort((a, b) => {
  const scoreA = impactScore(a.impact) / effortScore(a.effort) * a.confidence;
  const scoreB = impactScore(b.impact) / effortScore(b.effort) * b.confidence;
  return scoreB - scoreA;
}).slice(0, 20); // Top 20 opportunities
```

#### Consumption (src/lib/opportunity-loader.ts)

**Loading:**
```typescript
// Line 13: Load opportunities from JSON
export async function loadOpportunities(): Promise<Opportunity[]> {
  const response = await fetch('/data/opportunities/latest.json');
  const data = await response.json();
  // Transform and return
}
```

**Enrichment:**
```typescript
// Line 68: Fetch real-time GitHub data
export async function enrichOpportunitiesFromGitHub(
  opportunities: Opportunity[],
  githubToken?: string
): Promise<Opportunity[]>
```

#### Usage

**Goldmine Detector:**
- Uses opportunities as seed data
- Enriches with real-time GitHub API
- Calculates Blue Ocean scores
- Generates comprehensive analysis

**Report Generator:**
- References opportunities in summaries
- Includes top opportunities in reports
- Generates actionable recommendations

**UI Components:**
- Loads opportunities for display
- Filters by category/impact
- Shows evidence links
- Enables user interaction

---

## File Organization Issue

### Current (Incorrect)

```
data/
â”œâ”€â”€ opportunities/
â”‚   â””â”€â”€ latest.json                                    âœ… Correct
â”œâ”€â”€ opportunities-developer-tools-2026-01-07.json     âŒ Wrong location
â”œâ”€â”€ opportunities-developer-tools-2026-01-08.json     âŒ Wrong location
â”œâ”€â”€ opportunities-jquery-2026-01-07.json              âŒ Wrong location
â”œâ”€â”€ opportunities-machine-learning-2026-01-07.json    âŒ Wrong location
â””â”€â”€ opportunities-react-native-2026-01-08.json        âŒ Wrong location
```

### Recommended Structure

```
data/
â””â”€â”€ opportunities/
    â”œâ”€â”€ latest.json                           # Current opportunities
    â”œâ”€â”€ developer-tools/
    â”‚   â”œâ”€â”€ 2026-01-07.json
    â”‚   â””â”€â”€ 2026-01-08.json
    â”œâ”€â”€ jquery/
    â”‚   â””â”€â”€ 2026-01-07.json
    â”œâ”€â”€ machine-learning/
    â”‚   â””â”€â”€ 2026-01-07.json
    â””â”€â”€ react-native/
        â””â”€â”€ 2026-01-07.json
```

### Migration Script

```bash
#!/bin/bash
# Organize opportunity files

mkdir -p data/opportunities/developer-tools
mkdir -p data/opportunities/jquery
mkdir -p data/opportunities/machine-learning
mkdir -p data/opportunities/react-native

mv data/opportunities-developer-tools-*.json data/opportunities/developer-tools/
mv data/opportunities-jquery-*.json data/opportunities/jquery/
mv data/opportunities-machine-learning-*.json data/opportunities/machine-learning/
mv data/opportunities-react-native-*.json data/opportunities/react-native/

# Rename files to YYYY-MM-DD.json format
cd data/opportunities
for dir in */; do
  cd "$dir"
  for file in opportunities-*.json; do
    date=$(echo "$file" | grep -oP '\d{4}-\d{2}-\d{2}')
    if [ -n "$date" ]; then
      mv "$file" "$date.json"
    fi
  done
  cd ..
done
```

---

## Relationship to Other Features

### Phantom Scout (Blue Ocean Scanner)

**Status:** 84% success rate

Phantom Scout generates two outputs:
1. **Blue Ocean Markdown** â†’ `data/intelligence/blue-ocean-{date}.md` âœ…
2. **Opportunity JSON** â†’ `data/opportunities/latest.json` âŒ

**Issue:** Full Scout run requires GitHub API access. Blue Ocean reports use simpler repo search (works intermittently), but opportunity extraction requires issue/PR analysis (consistently blocked).

### Goldmine Detector

**Status:** 0 reports generated

**Dependencies:**
- Reads opportunities from `latest.json`
- Enriches with real-time GitHub data
- Requires both opportunity data AND GitHub API

**Why it's failing:**
1. No recent opportunity data (stale since Jan 7)
2. GitHub API blocked (can't enrich)
3. Double failure = zero reports

### Market Gap Identifier

**Status:** Meta-feature (doesn't directly use opportunities)

Synthesizes reports from multiple sources including opportunities when available.

---

## Sample Data Analysis

### From latest.json (January 7, 2026)

**Total Opportunities:** 10

**By Category:**
- UI/UX: 4 (40%)
- Developer Tools: 2 (20%)
- Performance: 2 (20%)
- Integration: 1 (10%)
- Automation: 1 (10%)

**By Impact:**
- High: 9 (90%)
- Medium: 1 (10%)

**By Effort:**
- Low: 5 (50%)
- Medium: 4 (40%)
- High: 1 (10%)

**Top Opportunity:**
```
Pain Point: "Unsure how to resolve `Missing field while writing result` error"
Solution: "Add missing feature as standalone tool"
Market Size: 7,500 users
Competition: Strong
Effort: Low
Impact: High
Confidence: 100%
Evidence: apollographql/apollo-client issue #8677
```

**High-Value Opportunities (Low effort + High impact):**
- Apollo Client error resolution tool
- NATO alphabet extension tool
- Regex tester with cheatsheet
- Mailpit integration helper
- i18n translation tool

---

## Recommendations

### Immediate Actions

1. **Wait for GitHub API Access**
   - Monitor API blocking status
   - Run Scout when API accessible
   - Expect 10-20 new opportunities per run

2. **Organize Historical Files**
   - Move misplaced files to proper directories
   - Rename to consistent format
   - Update documentation

3. **Add Status Monitoring**
   - Track last successful Scout run
   - Monitor opportunity freshness
   - Alert when data becomes stale (>30 days)

### Long-term Improvements

1. **Mock Data Generator**
   ```typescript
   if (process.env.USE_MOCK_DATA === 'true') {
     return generateMockOpportunities();
   }
   ```

2. **Opportunity Archiving**
   - Implement 60-day retention
   - Archive old opportunities
   - Create opportunity registry

3. **Alternative Data Sources**
   - Reddit pain point extraction
   - HackerNews trend analysis
   - Stack Overflow question mining
   - Product Hunt launch analysis

4. **Opportunity Registry**
   Similar to report registry:
   ```json
   {
     "generated_at": "2026-02-18",
     "total_opportunities": 150,
     "by_category": {...},
     "by_effort": {...},
     "high_value": [...],
     "recent": [...]
   }
   ```

---

## Testing & Verification

### Verify Opportunities Exist

```bash
# Check latest.json
cat data/opportunities/latest.json | jq '.[] | {painPoint, impact, effort}'

# Count opportunities
cat data/opportunities/latest.json | jq 'length'

# List all opportunity files
find data -name "*opportunit*" -type f | wc -l
```

### Load in Code

```typescript
import { loadOpportunities } from '@/lib/opportunity-loader';

const opportunities = await loadOpportunities();
console.log(`Loaded ${opportunities.length} opportunities`);
```

### Check Freshness

```bash
# Check last modification time
stat data/opportunities/latest.json

# Should show: Jan 7, 2026 (currently 40+ days old)
```

---

## Troubleshooting

### Issue: latest.json Not Updating

**Symptoms:**
- File dated January 7, 2026
- No new opportunities for 40+ days

**Root Cause:**
- Scout requires GitHub API access
- API blocked by DNS monitoring proxy

**Solution:**
- Wait for API access to restore
- Run Scout manually when API available
- Consider alternative data sources

### Issue: Files in Wrong Location

**Symptoms:**
- Files in `data/` root instead of `data/opportunities/`
- Inconsistent naming

**Root Cause:**
- Early Scout implementation used flat structure
- Code updated but files not migrated

**Solution:**
- Use migration script above
- Update Scout to use organized structure
- Add directory structure documentation

### Issue: Goldmine Detector Shows No Data

**Symptoms:**
- Goldmine Detector generates zero reports
- UI shows "No opportunities found"

**Root Cause:**
- Stale opportunity data (Jan 7)
- GitHub API blocked (can't enrich)
- Double failure

**Solution:**
- Wait for Scout to generate fresh opportunities
- Ensure GitHub API access
- Add mock data for testing

---

## Conclusions

### Status Summary

âœ… **Directory Configured Correctly**
- Path structure is proper
- Code references are accurate
- File format is correct

âœ… **Code Working As Designed**
- Scout generation logic functional
- Opportunity loader working
- Data format validated

âŒ **Data Currently Stale**
- Last update: January 7, 2026
- 40+ days old
- GitHub API blocking preventing updates

âš ï¸ **File Organization Needs Cleanup**
- 5 files in wrong location
- Inconsistent naming
- Easy to fix with migration

### Next Steps

**When GitHub API Restores:**
1. Run full Scout analysis
2. Generate fresh opportunities
3. Verify latest.json updates
4. Check Goldmine Detector starts working

**File Organization:**
1. Run migration script
2. Organize historical files
3. Update documentation
4. Add .gitignore rules

**Monitoring:**
1. Add opportunity freshness check
2. Alert when >30 days old
3. Track Scout success rate
4. Monitor API availability

---

## Related Documentation

- **PHANTOM_SCOUT_DIAGNOSIS.md** - Scout investigation
- **EMPTY_REPORTS_DIAGNOSIS.md** - Feature investigation
- **REPORT_ORGANIZATION_IMPLEMENTATION.md** - Report archiving
- **DNS_BLOCKING_ANALYSIS.md** - API blocking timeline

---

**Last Updated:** February 18, 2026  
**Status:** Complete âœ…  
**Action Required:** Wait for GitHub API access to resume opportunity generation
